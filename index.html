<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title id="page-title">UNXHub - A Script for Flick</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
<!-- Added Lucide Script for dynamic status icons -->
<script src="https://unpkg.com/lucide@latest"></script>
<style>
:root{--primary:#9203ff;--bg-dark:#050505;--glass-bg:rgba(20,20,20,0.6);--glass-border:rgba(255,255,255,0.1)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg-dark);color:#fff;min-height:100vh;overflow-x:hidden;background-image:linear-gradient(rgba(255,255,255,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,.03) 1px,transparent 1px);background-size:60px 60px;animation:g 40s linear infinite}
@keyframes g{0%{background-position:0 0}100%{background-position:60px 60px}}

/* Topbar & Navigation */
.topbar{position:fixed;top:20px;left:50%;transform:translateX(-50%);height:56px;background:rgba(5,5,5,.95);backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:28px;display:flex;align-items:center;justify-content:space-between;padding:0 1.8rem;z-index:9999;box-shadow:0 10px 40px rgba(0,0,0,.6);gap:16px;min-width:320px;transition:all .3s}
.topbar.open{height:auto;padding:1.5rem 1.8rem;border-radius:20px}
.topbar-logo{display:flex;align-items:center;gap:16px;font-weight:700;font-size:1.18rem}
.topbar-logo img{width:36px;height:36px;border-radius:10px;box-shadow:0 4px 16px rgba(146,3,255,.4)}
.hamburger{width:28px;height:28px;cursor:pointer;display:flex;flex-direction:column;justify-content:center;gap:5px;transition:.3s}
.hamburger span{width:100%;height:2px;background:#fff;border-radius:1px;transition:.3s}
.hamburger.open span:nth-child(1){transform:rotate(45deg) translate(6px,6px)}
.hamburger.open span:nth-child(2){opacity:0}
.hamburger.open span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}
.menu-items{display:none;flex-direction:column;gap:1.2rem;margin-top:1.5rem}
.topbar.open .menu-items{display:flex}
.menu-item{display:flex;align-items:center;gap:12px;font-size:1.05rem;transition:.2s;cursor:pointer}
.menu-item:hover{opacity:.7}
.menu-item img{width:20px;height:20px;filter:invert(1)}

/* Content & Hero */
.content{padding-top:140px;max-width:1200px;margin:0 auto;padding:0 2rem 6rem}
.hero{text-align:center;margin-bottom:6rem}
.hero h1{font-size:5rem;font-weight:800;margin-bottom:.5rem;background:linear-gradient(135deg,#e0aaff,#9203ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-size:200%;animation:gs 8s ease infinite;filter:drop-shadow(0 0 20px rgba(146,3,255,.4))}
@keyframes gs{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
.typewriter{font-size:1.8rem;color:#ccc;min-height:50px;margin-bottom:2rem}
.typewriter span{color:var(--primary);font-weight:600}
.cursor{display:inline-block;width:3px;height:1.4em;background:var(--primary);animation:b .8s infinite;margin-left:2px}
@keyframes b{0%,100%{opacity:1}50%{opacity:0}}
.get-script-btn{padding:1.2rem 3.5rem;font-size:1.4rem;font-weight:700;background:linear-gradient(135deg,#9203ff,#4a007a);color:#fff;border:1px solid rgba(255,255,255,.1);border-radius:16px;cursor:pointer;box-shadow:0 10px 30px rgba(146,3,255,.3);transition:all .3s}
.get-script-btn:hover{transform:translateY(-4px);box-shadow:0 15px 40px rgba(146,3,255,.5)}

/* Status Legend - New Addition */
.status-legend {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
}
.status-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    background: rgba(255,255,255,0.03);
    padding: 6px 12px;
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.05);
}
.status-item svg { width: 16px; height: 16px; }
.status-working { color: #4ade80; }
.status-degraded { color: #fb923c; }
.status-patched { color: #f87171; }

/* Games Grid */
.section-title{font-size:2.5rem;font-weight:700;margin:3rem 0 1.5rem;display:flex;align-items:center;gap:1rem}
.section-title::before{content:'';width:6px;height:40px;background:var(--primary);border-radius:3px}
.games-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;margin-bottom:5rem}
.game-card{background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:20px;padding:1.5rem;cursor:pointer;transition:all .3s;overflow:hidden}
.game-card:hover{transform:translateY(-6px);border-color:var(--primary)}
.game-thumbnail-container{height:180px;border-radius:12px;overflow:hidden;margin-bottom:1rem;background:#111;position:relative;}
.game-thumbnail{width:100%;height:100%;object-fit:cover}
.game-info h3{font-size:1.5rem;font-weight:600;margin-bottom:1rem; display: flex; align-items: center; justify-content: space-between;}
.game-actions{height:0;opacity:0;overflow:hidden;transition:all .3s}
.game-card.active .game-actions{height:auto;opacity:1;margin-top:1rem;padding-top:.5rem}
.action-btn{border:none;border-radius:8px;font-weight:600;padding:.7rem;display:flex;align-items:center;justify-content:center;gap:.5rem;color:#fff;font-size:.9rem;cursor:pointer}
.action-btn img{filter:invert(1);width:16px;height:16px}
.play-btn{background:var(--primary);width:100%}

/* Status Icon in Card */
.status-icon-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4px;
    border-radius: 50%;
    background: rgba(0,0,0,0.3);
}
.status-icon-wrapper svg {
    width: 20px;
    height: 20px;
}

/* Features */
.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;margin-top:2rem}
.feature-card{background:rgba(255,255,255,.03);border:1px solid var(--glass-border);border-radius:20px;padding:2rem;transition:transform .3s}
.feature-card:hover{transform:translateY(-5px)}
.feature-icon{width:40px;height:40px;filter:invert(1);margin-bottom:1rem}
.feature-title{font-size:1.3rem;font-weight:700;margin-bottom:.5rem}
.feature-desc{color:#aaa;line-height:1.6;font-size:.95rem}
.feature-desc a{color:#fff;background:linear-gradient(135deg,#9203ff,#4a00e0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;transition:.3s}
.feature-desc a:hover{opacity:.8}

/* MODAL / POPUP */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(8px);display:none;align-items:center;justify-content:center;z-index:10000;padding:1rem;opacity:0;transition:opacity .3s ease}
.modal-overlay.open{display:flex;opacity:1}

.popup-card{
    max-width:800px;
    width:100%;
    background: rgba(15, 15, 20, 0.75);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid rgba(146, 3, 255, 0.2);
    border-radius: 28px;
    overflow:hidden;
    box-shadow: 0 25px 80px rgba(0,0,0,0.8), 0 0 30px rgba(146,3,255,0.15);
    transform: scale(0.95);
    transition: transform .3s cubic-bezier(0.16,1,0.3,1);
    display: flex;
    flex-direction: column;
}
.modal-overlay.open .popup-card { transform: scale(1); }

.popup-header{
    padding: 1.5rem 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid rgba(255,255,255,0.06);
}

.popup-header h2{
    font-size: 1.8rem;
    font-weight: 800;
    background: linear-gradient(135deg, #e0aaff, #9203ff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 0;
}

.close-popup{
    width: 36px;
    height: 36px;
    background: rgba(255,255,255,0.05);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all .3s;
    font-size: 1.5rem;
    color: #aaa;
    border: 1px solid transparent;
}
.close-popup:hover{
    background: rgba(255,95,86,0.15);
    color: #ff5f56;
    border-color: rgba(255,95,86,0.3);
}

.popup-body{
    padding: 2rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.code-wrapper {
    position: relative;
    border-radius: 16px;
    background: #08080a;
    border: 1px solid rgba(255,255,255,0.08);
    overflow: hidden;
}

.code-block {
    margin: 0;
    padding: 1.5rem;
    overflow-x: auto;
}
.code-block code {
    font-family: 'JetBrains Mono', monospace;
    font-size: 15px;
    line-height: 1.6;
}

.copy-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    padding: 8px 16px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 8px;
    cursor: pointer;
    transition: all .2s;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #ccc;
    font-weight: 600;
    font-size: 0.9rem;
}
.copy-btn:hover {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
    box-shadow: 0 5px 15px rgba(146,3,255,0.3);
}
.copy-btn img {
    width: 16px;
    height: 16px;
    filter: invert(1);
}

.tos-footer{
    text-align: center;
    font-size: 0.9rem;
    color: #888;
    padding-top: 0.5rem;
}
.tos-footer a{
    color: #e0aaff;
    text-decoration: none;
    transition: .3s;
}
.tos-footer a:hover{
    color: #fff;
    text-shadow: 0 0 10px rgba(146,3,255,0.6);
}

@media(max-width:768px){.hero h1{font-size:3.2rem}.typewriter{font-size:1.4rem}.content{padding-top:160px}.popup-header h2{font-size:1.6rem}.popup-body{padding:1.5rem}.code-block{padding:1.5rem}}
</style>
</head>
<body>

<nav class="topbar" id="topbar">
<div class="topbar-logo">
<img src="https://raw.githubusercontent.com/not-gato/GetUNX/refs/heads/main/Assets/170%20Sem%20T%C3%ADtulo_20251118102930.png" alt="UNXHub">
<span>UNXHub</span>
</div>
<div class="hamburger" onclick="document.getElementById('topbar').classList.toggle('open')">
<span></span><span></span><span></span>
</div>
<div class="menu-items">
<div class="menu-item" onclick="window.location='https://getunx.qzz.io/'">
<img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/home.svg"> Home
</div>
<div class="menu-item" onclick="window.location='https://getunx.qzz.io/tos.html'">
<img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/file-text.svg"> Terms Of Service
</div>
</div>
</nav>

<main class="content">
<section class="hero">
<h1>UNXHub</h1>
<div class="typewriter">A Script for <span id="game-name">Flick</span><span class="cursor"></span></div>
<button class="get-script-btn" onclick="openModal()">Get Script</button>
</section>

<section>
<h2 class="section-title">Supported Games</h2>

<!-- Status Legend -->
<div class="status-legend">
    <div class="status-item">
        <i data-lucide="circle-check-big" class="status-working"></i> <span>Working</span>
    </div>
    <div class="status-item">
        <i data-lucide="circle-alert" class="status-degraded"></i> <span>Degraded</span>
    </div>
    <div class="status-item">
        <i data-lucide="circle-x" class="status-patched"></i> <span>Patched</span>
    </div>
</div>

<!-- Added data-game-name attributes to identify cards for status updates -->
<div class="games-grid" id="games-grid">

    <div class="game-card" onclick="toggleCard(this)" data-game-name="Flick">
        <div class="game-thumbnail-container"><img src="https://github.com/not-gato/GetUNX/raw/refs/heads/main/Assets/Flick.webp" class="game-thumbnail" alt="Flick"></div>
        <div class="game-info">
            <h3>
                Flick 
                <span class="status-icon-wrapper" id="status-Flick"></span>
            </h3>
        </div>
        <div class="game-actions">
            <button class="action-btn play-btn" onclick="event.stopPropagation();window.open('https://www.roblox.com/games/136801880565837/Flick','_blank')"><img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/play.svg" width="16"> Play</button>
        </div>
    </div>

    <div class="game-card" onclick="toggleCard(this)" data-game-name="Flee the Facility">
        <div class="game-thumbnail-container"><img src="https://github.com/not-gato/GetUNX/raw/refs/heads/main/Assets/Flee.webp" class="game-thumbnail" alt="Flee the Facility"></div>
        <div class="game-info">
            <h3>
                Flee the Facility 
                <span class="status-icon-wrapper" id="status-Flee the Facility"></span>
            </h3>
        </div>
        <div class="game-actions">
            <button class="action-btn play-btn" onclick="event.stopPropagation();window.open('https://www.roblox.com/games/893973440/Flee-the-Facility','_blank')"><img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/play.svg" width="16"> Play</button>
        </div>
    </div>

    <div class="game-card" onclick="toggleCard(this)" data-game-name="Figure's Library">
        <div class="game-thumbnail-container"><img src="https://github.com/not-gato/GetUNX/raw/refs/heads/main/Assets/Figure.webp" class="game-thumbnail" alt="Figure's Library"></div>
        <div class="game-info">
            <h3>
                Figure's Library 
                <span class="status-icon-wrapper" id="status-Figure's Library"></span>
            </h3>
        </div>
        <div class="game-actions">
            <button class="action-btn play-btn" onclick="event.stopPropagation();window.open('https://www.roblox.com/games/12240122896/Figures-Library','_blank')"><img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/play.svg" width="16"> Play</button>
        </div>
    </div>
    
</div>
</section>

<section>
<h2 class="section-title">Why Use UNXHub?</h2>
<div class="features-grid">
<div class="feature-card">
<img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/github.svg" class="feature-icon">
<h3 class="feature-title">Open Source</h3>
<p class="feature-desc">Fully transparent code. <a href="https://github.com/not-gato/UNX" target="_blank">View on GitHub</a></p>
</div>
<div class="feature-card">
<img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/zap.svg" class="feature-icon">
<h3 class="feature-title">Lightning Fast</h3>
<p class="feature-desc">Optimized for instant execution on PC & mobile.</p>
</div>
<div class="feature-card">
<img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/smartphone.svg" class="feature-icon">
<h3 class="feature-title">Mobile Ready</h3>
<p class="feature-desc">Perfect touch controls with Obsidian UI Library.</p>
</div>
</div>
</section>
</main>

<div class="modal-overlay" id="modal" onclick="if(event.target===this)closeModal()">
    <div class="popup-card" onclick="event.stopPropagation()">
        <div class="popup-header">
            <h2>UNXHub</h2>
            <div class="close-popup" onclick="closeModal()">Ã—</div>
        </div>
        
        <div class="popup-body">
            <div class="code-wrapper">
                <!-- Example Lua script -->
                <pre class="code-block"><code class="language-lua">getgenv().unxns = { loadfrom = "Website" }
loadstring(game:HttpGet("https://apigetunx.vercel.app/UNX.lua", true))()</code></pre>
                <button class="copy-btn" onclick="copyScriptCode(this)">
                    <img src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/copy.svg" alt="Copy">
                    Copy
                </button>
            </div>
            
            <div class="tos-footer">
                By executing this script you accept our <a href="https://getunx.qzz.io/tos.html" target="_blank">Terms of Service</a>.
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>
hljs.highlightAll();
const games=["Flick","Flee the Facility","Figure's Library"];
let currentGame="Flick";
const gameElement=document.getElementById("game-name");
const pageTitle=document.getElementById("page-title");
function updateTitle(){pageTitle.textContent=`UNXHub - A Script for ${currentGame}`}
function typeWriter(t,cb){let i=0;gameElement.textContent="";const int=setInterval(()=>{if(i<t.length){gameElement.textContent+=t.charAt(i);i++}else{clearInterval(int);if(cb)cb()}},60)}
function deleteWriter(cb){const int=setInterval(()=>{if(gameElement.textContent.length>0)gameElement.textContent=gameElement.textContent.slice(0,-1);else{clearInterval(int);if(cb)cb()}},40)}
function getRandomGame(ex){const a=games.filter(g=>g!==ex);return a[Math.floor(Math.random()*a.length)]}
function cycleGame(){
deleteWriter(()=>{setTimeout(()=>{currentGame=getRandomGame(currentGame);typeWriter(currentGame,updateTitle);updateTitle();},200)})
}
setTimeout(()=>{setInterval(cycleGame,4500);cycleGame()},2000);
updateTitle();
function toggleCard(c){
c.classList.toggle('active');
document.querySelectorAll('.game-card').forEach(card=>{if(card!==c)card.classList.remove('active')});
}
const modal=document.getElementById('modal');
function openModal(){modal.classList.add('open')}
function closeModal(){modal.classList.remove('open')}
function copyScriptCode(btn){
const code=`getgenv().unxns = { loadfrom = "Website" }\nloadstring(game:HttpGet("https://apigetunx.vercel.app/UNX.lua", true))()`;
navigator.clipboard.writeText(code).then(()=>{
const img=btn.querySelector('img');
const txt=btn.childNodes[2]; // Get text node
img.src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/check.svg";
btn.style.background='#27c93f';
btn.style.color='#fff';
if(txt) txt.textContent = " Copied";
setTimeout(()=>{
    img.src="https://cdn.jsdelivr.net/npm/lucide-static@latest/icons/copy.svg";
    btn.style.background='';
    btn.style.color='';
    if(txt) txt.textContent = " Copy";
},2000);
});
}
document.addEventListener('click',e=>{if(!e.target.closest('.topbar'))document.getElementById('topbar').classList.remove('open')})

// --- LIVE STATUS SYSTEM LOGIC ---
// Updated to use the direct raw.githubusercontent.com URL for stability
const STATUS_URL = 'https://raw.githubusercontent.com/not-gato/GetUNX/refs/heads/main/Assets/status.json';

// Define a local fallback to ensure status is displayed correctly even if fetch fails (Fixes the gray icon issue)
const DEFAULT_STATUS_DATA = {
  "Flick": "1",
  "Flee the Facility": "2",
  "Figure's Library": "1"
};

async function updateGameStatus() {
    // Start with the known good local data (Fallback)
    let statusData = DEFAULT_STATUS_DATA; 
    
    // Use cache-busting to ensure we always fetch the latest file
    const fetchUrl = `${STATUS_URL}?t=${new Date().getTime()}`;

    try {
        const response = await fetch(fetchUrl);
        if (response.ok) {
            // Overwrite with live data if fetch succeeds
            const liveData = await response.json();
            statusData = liveData;
        } else {
            // If fetch fails but response is received (e.g., 404), log it, but proceed with DEFAULT_STATUS_DATA
            console.error(`Failed to load status.json. HTTP status: ${response.status}. Using default status data.`);
        }
    } catch (e) {
        // If network error, log it, but proceed with DEFAULT_STATUS_DATA (This prevents the gray icon)
        console.error("Error fetching status.json (Network issue). Using default status data:", e);
    }

    const cards = document.querySelectorAll('.game-card[data-game-name]');
    
    cards.forEach(card => {
        const gameName = card.getAttribute('data-game-name');
        const statusId = statusData[gameName];
        const iconContainer = card.querySelector('.status-icon-wrapper');
        
        if (statusId && iconContainer) {
            let iconHtml = '';
            let color = '';
            let title = '';
            
            if (statusId === "1") { // Working
                iconHtml = '<i data-lucide="circle-check-big"></i>';
                color = '#4ade80'; 
                title = 'Status: Working';
            } else if (statusId === "2") { // Degraded Functionality
                iconHtml = '<i data-lucide="circle-alert"></i>';
                color = '#fb923c'; 
                title = 'Status: Degraded Functionality';
            } else if (statusId === "3") { // Patched/Broken
                iconHtml = '<i data-lucide="circle-x"></i>';
                color = '#f87171'; 
                title = 'Status: Patched / Broken';
            } else {
                // Unknown Status Code (still possible if JSON returns statusId != 1, 2, or 3)
                iconHtml = '<i data-lucide="help-circle"></i>';
                color = '#a1a1aa'; 
                title = 'Status: Unknown Status Code';
            }

            iconContainer.innerHTML = iconHtml;
            iconContainer.style.color = color;
            iconContainer.setAttribute('title', title);
        } else if (iconContainer) {
            // This is now reserved only for games listed in HTML but missing from BOTH default and fetched JSON
            iconContainer.innerHTML = '<i data-lucide="minus-circle"></i>';
            iconContainer.style.color = '#a1a1aa'; 
            iconContainer.setAttribute('title', 'Status: Not Listed in Status File / Data Mismatch');
        }
    });

    // Render the new Lucide icons
    lucide.createIcons();
}

// Run status update on load and set up the 1-second refresh loop
document.addEventListener('DOMContentLoaded', () => {
    lucide.createIcons(); // Init static icons from header/features
    
    // Initial fetch (or use of default data)
    updateGameStatus(); 
    
    // Refetch attempt every 1 second (1000ms)
    setInterval(updateGameStatus, 1000); 
});
</script>
</body>
</html>

